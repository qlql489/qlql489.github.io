<!DOCTYPE HTML>
<html lang="zh-CN">

<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="å¹´è½®çš„è‡ªä¹ å®¤">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://qlql489.github.io">
    <!--SEO-->

<meta name="keywords" content="java,ç¼–ç " />


<meta name="description" content="
æœ€è¿‘åœ¨å¤„ç†å­—ç¬¦è¿‡æ»¤ï¼Œé‡æ–°ç ”ç©¶äº†ä¸‹å­—ç¬¦ã€unicodeå’Œä»£ç ç‚¹çš„ç›¸å…³çŸ¥è¯†ï¼Œé¦–å…ˆè¦è¯´ä¸€ä¸‹ç¼–ç çš„åŸºæœ¬çŸ¥è¯†unicode
unicode
unicodeæ˜¯è®¡ç®—æœºç§‘å­¦é¢†åŸŸé‡Œçš„ä¸€é¡¹ä¸šç•Œæ ‡å‡†ï¼ŒåŒ…æ‹¬å­—ç¬¦é›†ã€ç¼–..." />


<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->

<title>
    
    ä¸€æ¬¡æ€§ææ¸…æ¥šunicodeçš„ä»£ç ç‚¹å’Œä»£ç å•å…ƒ |
    
    å¹´è½®çš„è‡ªä¹ å®¤
</title>

<link rel="alternate" href="/atom.xml" title="å¹´è½®çš„è‡ªä¹ å®¤" type="application/atom+xml">


<link rel="icon" href="/favicon.ico">

    

<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.7.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">
    
<div class="hide">
    <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script>
</div>


<script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?6ee9956165458a54c342f6448809323b";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>



    

</head>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">ä½ ä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¿‡ä½ï¼Œä¸ºäº†ä½ æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·æ›´æ–°æµè§ˆå™¨çš„ç‰ˆæœ¬æˆ–è€…ä½¿ç”¨å…¶ä»–ç°ä»£æµè§ˆå™¨ï¼Œæ¯”å¦‚Chromeã€Firefoxã€Safariç­‰ã€‚</div>
<![endif]-->
<body>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only">Toggle navigation</span>
                    <i class="fa fa-bars"></i>
                    </span>
                </div>
                <div class="nav_header">
                    <a>
                        <img src="http://image.nianlun.tech/2020/11/10/cd425637b190f7f5fb2f52492669237a.png" alt="logoå¤´åƒ">
                    </a>
                    <div  class="nav_header_div">
                        <span>å¹´è½®çš„è‡ªä¹ å®¤</span>
                    </div>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation"><a href="/"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>
                            </li>
                        
                            <li role="presentation"><a href="/categories/ç¨‹åºäººç”Ÿ/"><i class="fa fa-fw fa-code"></i>ç¨‹åºäººç”Ÿ</a>
                            </li>
                        
                            <li role="presentation"><a href="/categories/æˆé•¿/"><i class="fa fa-fw fa-plug"></i>æˆé•¿</a>
                            </li>
                        
                            <li role="presentation"><a href="/categories/è¯»ä¹¦/"><i class="fa fa-fw fa-book"></i>è¯»ä¹¦</a>
                            </li>
                        
                            <li role="presentation"><a href="/categories/"><i class="fa fa-fw fa-bars"></i>åˆ†ç±»</a>
                            </li>
                        
                            <li role="presentation"><a href="/tags/"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾</a>
                            </li>
                        
                            <li role="presentation"><a href="/archives/"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="ä¸€æ¬¡æ€§ææ¸…æ¥šunicodeçš„ä»£ç ç‚¹å’Œä»£ç å•å…ƒ">
            
            ä¸€æ¬¡æ€§ææ¸…æ¥šunicodeçš„ä»£ç ç‚¹å’Œä»£ç å•å…ƒ
            
        </h1>
        <div class="post-meta">
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a class="category-link" href="/categories/ç¨‹åºäººç”Ÿ/">ç¨‹åºäººç”Ÿ</a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            <a class="tag-link" href="/tags/java/">java</a> <a class="tag-link" href="/tags/ç¼–ç /">ç¼–ç </a>
            
        </span>
    </span>
    
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta">
            2018/09/15</span>
    </span>
    
    <span class="fa-wrap">
        <i class="fa fa-eye"></i>
        <span id="busuanzi_value_page_pv"></span>
    </span>
    
    
</div>
        
        
    </div>
    
    <div class="post-body post-content">
        <p><img src="http://image.nianlun.tech/2020/11/07/f87c7e9a9af90c5c80efda27303964c3.jpeg" alt="4702918-13085078b1f89531"></p>
<p>æœ€è¿‘åœ¨å¤„ç†å­—ç¬¦è¿‡æ»¤ï¼Œé‡æ–°ç ”ç©¶äº†ä¸‹å­—ç¬¦ã€unicodeå’Œä»£ç ç‚¹çš„ç›¸å…³çŸ¥è¯†ï¼Œé¦–å…ˆè¦è¯´ä¸€ä¸‹ç¼–ç çš„åŸºæœ¬çŸ¥è¯†unicode</p>
<h3 id="unicode"><a href="#unicode" class="headerlink" title="unicode"></a>unicode</h3><blockquote>
<p>unicodeæ˜¯è®¡ç®—æœºç§‘å­¦é¢†åŸŸé‡Œçš„ä¸€é¡¹ä¸šç•Œæ ‡å‡†ï¼ŒåŒ…æ‹¬å­—ç¬¦é›†ã€ç¼–ç æ–¹æ¡ˆç­‰ã€‚è®¡ç®—æœºé‡‡ç”¨å…«æ¯”ç‰¹ä¸€ä¸ªå­—èŠ‚ï¼Œä¸€ä¸ªå­—èŠ‚æœ€å¤§æ•´æ•°æ˜¯255ï¼Œè¿˜è¦è¡¨ç¤ºä¸­æ–‡ä¸€ä¸ªå­—ä¹Ÿæ˜¯ä¸å¤Ÿçš„ï¼Œè‡³å°‘éœ€è¦ä¸¤ä¸ªå­—èŠ‚ï¼Œä¸ºäº†ç»Ÿä¸€æ‰€æœ‰çš„æ–‡å­—ç¼–ç ï¼Œunicodeä¸ºæ¯ç§è¯­è¨€ä¸­çš„æ¯ä¸ªå­—ç¬¦è®¾å®šäº†ç»Ÿä¸€å¹¶ä¸”å”¯ä¸€çš„äºŒè¿›åˆ¶ç¼–ç ï¼Œé€šå¸¸ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥unicodeæ¯ä¸ªå¹³é¢å¯ä»¥ç»„åˆå‡º65535ç§ä¸åŒçš„å­—ç¬¦ï¼Œä¸€å…±17ä¸ªå¹³é¢ã€‚</p>
</blockquote>
<p>ç”±äºè‹±æ–‡ç¬¦å·åªéœ€è¦ç”¨åˆ°ä½8ä½ï¼Œæ‰€ä»¥å…¶é«˜8ä½æ°¸è¿œæ˜¯0ï¼Œå› æ­¤ä¿å­˜è‹±æ–‡æ–‡æœ¬æ—¶ä¼šå¤šæµªè´¹ä¸€å€çš„ç©ºé—´ã€‚</p>
<p>æ¯”å¦‚æ±‰å­â€œæ±‰â€çš„unicode,åœ¨javaä¸­è¾“å‡º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">"\u5B57"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h3><p>unicodeåœ¨è®¡ç®—æœºä¸­å¦‚ä½•å­˜å‚¨å‘¢ï¼Œå°±æ˜¯ç”¨unicodeå­—ç¬¦é›†è½¬æ¢æ ¼å¼ï¼Œå³æˆ‘ä»¬å¸¸è§çš„UTF-8ã€UTF-16ç­‰ã€‚</p>
<p>UTF-8å°±æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½å¯¹unicodeè¿›è¡Œç¼–ç ï¼Œå¯¹ä¸åŒèŒƒå›´çš„å­—ç¬¦ä½¿ç”¨ä¸åŒé•¿åº¦çš„ç¼–ç ã€‚</p>
<table>
<thead>
<tr>
<th>Unicode</th>
<th>Utf-8</th>
</tr>
</thead>
<tbody>
<tr>
<td>000000-00007F</td>
<td>0xxxxxxx</td>
</tr>
<tr>
<td>000080-0007FF</td>
<td>110xxxxx 10xxxxxx</td>
</tr>
<tr>
<td>000800-00FFFF</td>
<td>1110xxxx 10xxxxxx 10xxxxxx</td>
</tr>
<tr>
<td>010000-10FFFF</td>
<td>11110xxx10xxxxxx10xxxxxx10xxxxxx</td>
</tr>
</tbody>
</table>
<p>Javaä¸­çš„Stringå¯¹è±¡å°±æ˜¯ä¸€ä¸ªunicodeç¼–ç çš„å­—ç¬¦ä¸²ã€‚</p>
<p>javaä¸­æƒ³çŸ¥é“ä¸€ä¸ªå­—ç¬¦çš„unicodeç¼–ç æˆ‘ä»¬å¯ä»¥é€šè¿‡Integer.toHexString()æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">"ç¼–"</span>;</span><br><span class="line">StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line"><span class="keyword">char</span> [] source_char = str.toCharArray();</span><br><span class="line">String unicode = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;source_char.length;i++) &#123;</span><br><span class="line">    unicode = Integer.toHexString(source_char[i]);</span><br><span class="line">    <span class="keyword">if</span> (unicode.length() &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">        unicode = <span class="string">"00"</span> + unicode;</span><br><span class="line">    &#125;</span><br><span class="line">    sb.append(<span class="string">"\\u"</span> + unicode);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(sb);</span><br><span class="line">è¾“å‡º\u7f16</span><br></pre></td></tr></table></figure>
<p>å¯¹åº”çš„utf-8ç¼–ç æ˜¯ä»€ä¹ˆå‘¢?</p>
<p>7f16åœ¨0800-FFFFä¹‹é—´ï¼Œæ‰€ä»¥è¦ç”¨3å­—èŠ‚æ¨¡æ¿ï¼š1110xxxx 10xxxxxx 10xxxxxxã€‚<br>7f16å†™æˆäºŒè¿›åˆ¶æ˜¯ï¼š0111 1111 0001 0110<br>æŒ‰ä¸‰å­—èŠ‚æ¨¡æ¿åˆ†æ®µæ–¹æ³•åˆ†ä¸º0111 111100 010110ï¼Œä»£æ›¿æ¨¡æ¿ä¸­çš„xï¼Œå¾—åˆ°11100111 10111100 10010110ï¼Œå³â€œç¼–â€å¯¹åº”çš„utf-8çš„ç¼–ç æ˜¯e7 bc 96ï¼Œå 3ä¸ªå­—èŠ‚</p>
<h3 id="codepoint"><a href="#codepoint" class="headerlink" title="codepoint"></a>codepoint</h3><p>unicodeçš„èŒƒå›´ä»000000 - 10FFFFï¼Œcharçš„èŒƒå›´åªèƒ½æ˜¯åœ¨\u0000åˆ°\uffffï¼Œä¹Ÿå°±æ˜¯æ ‡å‡†çš„ 2 å­—èŠ‚å½¢å¼é€šå¸¸ç§°ä½œ UCS-2ï¼Œåœ¨Javaä¸­ï¼Œcharç±»å‹ç”¨UTF-16ç¼–ç æè¿°ä¸€ä¸ªä»£ç å•å…ƒï¼Œä½†unicodeå¤§äº0x10000çš„éƒ¨åˆ†å¦‚ä½•ç”¨charè¡¨ç¤ºå‘¢ï¼Œæ¯”å¦‚ä¸€äº›emojiï¼šğŸ˜€</p>
<p>javaçš„charç±»å‹å ä¸¤ä¸ªå­—èŠ‚ï¼Œæƒ³è¦è¡¨ç¤ºğŸ˜€è¿™ä¸ªè¡¨æƒ…å°±éœ€è¦2ä¸ªcharï¼Œçœ‹å¦‚ä¸‹ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String testCode = <span class="string">"ab\uD83D\uDE03cd"</span>;</span><br><span class="line"><span class="keyword">int</span> length = testCode.length();</span><br><span class="line"><span class="keyword">int</span> count = testCode.codePointCount(<span class="number">0</span>, testCode.length());</span><br><span class="line"><span class="comment">//length=6</span></span><br><span class="line"><span class="comment">//count=5</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªå­—ç¬¦åˆèµ·æ¥ä»£è¡¨ğŸ˜€ï¼Œæ˜¯ä¸€ä¸ªä»£ç ç‚¹,<br>å¦‚æœæˆ‘ä»¬æƒ³å–åˆ°æ¯ä¸ªä»£ç ç‚¹åšä¸€äº›åˆ¤æ–­å¯ä»¥è¿™ä¹ˆå†™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  String testCode = <span class="string">"ab\uD83D\uDE03cd"</span>;</span><br><span class="line">  <span class="keyword">int</span> cpCount = testCode.codePointCount(<span class="number">0</span>, testCode.length());</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; cpCount; ++index) &#123;</span><br><span class="line">      <span class="comment">//è¿™é‡Œçš„iæ˜¯å­—ç¬¦çš„ä½ç½®</span></span><br><span class="line">      <span class="keyword">int</span> i = testCode.offsetByCodePoints(<span class="number">0</span>, index);</span><br><span class="line">      <span class="keyword">int</span> codepoint = testCode.codePointAt(i);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line">i:<span class="number">0</span> index: <span class="number">0</span> codePoint: <span class="number">97</span></span><br><span class="line">i:<span class="number">1</span> index: <span class="number">1</span> codePoint: <span class="number">98</span></span><br><span class="line">i:<span class="number">2</span> index: <span class="number">2</span> codePoint: <span class="number">128515</span></span><br><span class="line">i:<span class="number">4</span> index: <span class="number">3</span> codePoint: <span class="number">99</span></span><br><span class="line">i:<span class="number">5</span> index: <span class="number">4</span> codePoint: <span class="number">100</span></span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå°±æ˜¯æŒ‰ç…§codePointindexå–å­—ç¬¦ï¼Œ0å–åˆ°aï¼Œ1å–åˆ°bï¼Œ2å–åˆ°\uD83D\uDE03ä¹Ÿå°±æ˜¯ğŸ˜€ï¼Œ3å–åˆ°cï¼Œ4å–åˆ°dï¼›<br>æŒ‰ç…§Stringçš„indexå–å­—ç¬¦ï¼Œ0å–åˆ°aï¼Œ1å–åˆ°bï¼Œ2å–åˆ°\uD83Dï¼Œ3å–åˆ°\uDE03ï¼Œ4å–åˆ°cï¼Œ5å–åˆ°dã€‚<br>è¿™å°±æ˜¯codePointIndexå’Œcharçš„indexçš„åŒºåˆ«ã€‚</p>
<p>å–åˆ°codePointå°±å¯ä»¥æŒ‰ç…§unicodeå€¼è¿›è¡Œå­—ç¬¦çš„è¿‡æ»¤ç­‰æ“ä½œã€‚</p>
<p>å¦‚æœæœ‰ä¸ªéœ€æ±‚æ˜¯æ—¢å¯ä»¥æŒ‰ç…§unicodeå€¼è¿‡æ»¤å­—ç¬¦ï¼Œä¹Ÿèƒ½æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤å­—ç¬¦ï¼Œå¹¶ä¸”è¿˜æœ‰ç™½åå•ï¼Œåº”è¯¥å¦‚ä½•å®ç°å‘¢ã€‚</p>
<p>å…¶å®unicodeè¿‡æ»¤å’Œæ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤å¹¶ä¸å†²çªï¼Œè‡ªå·±å®ç°è‡ªå·±çš„è¿‡æ»¤å°±å¥½äº†ï¼Œå¦‚æœéœ€æ±‚åŠ å…¥äº†è¿‡æ»¤ç™½åå•å°±ä¼šå¤æ‚ä¸€äº›ï¼Œä¸èƒ½ç›´æ¥è¿‡æ»¤ï¼Œéœ€è¦å…ˆæ£€éªŒæ˜¯å¦æ˜¯ç™½åå•çš„indexã€‚</p>
<p>æˆ‘çš„æ€è·¯æ˜¯è®°å½•ç™½åå•charçš„indexï¼Œæ­£åˆ™è¡¨è¾¾å¼æˆ–å…¶ä»–è¿‡æ»¤æ–¹å¼å¯ä»¥è·å¾—è¿è§„charçš„indexï¼Œunicodeé»‘åå•çš„codepointIndexå¯ä»¥è½¬æ¢æˆcharçš„indexï¼Œåœ¨è·å–codePontçš„indexæ—¶å¯ä»¥åˆ¤æ–­å½“å‰å­—ç¬¦æ˜¯å•charå­—ç¬¦è¿˜æ˜¯åŒcharå­—ç¬¦ï¼ŒåŒcharå­—ç¬¦éœ€è¦æ·»åŠ 2ä¸ªä¸‹æ ‡ï¼Œæ–¹æ³•å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å–åˆ°unicodeå€¼           </span></span><br><span class="line"><span class="keyword">int</span> codepoint = testCode.codePointAt(i);</span><br><span class="line"><span class="comment">//å°†unicodeå€¼è½¬æ¢æˆcharæ•°ç»„</span></span><br><span class="line"><span class="keyword">char</span>[] chars = Character.toChars(codepoint);</span><br><span class="line">charIndexs.add(pointIndex);</span><br><span class="line"><span class="keyword">if</span> (chars.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">//è¡¨ç¤ºä¸æ˜¯å•charå­—ç¬¦ï¼Œè®°å½•indexæ—¶åŒæ—¶æ·»åŠ i+1</span></span><br><span class="line">   charIndexs.add(pointIndex + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>   //ä¾‹<br>        String str = â€œab\uD83D\uDE03æ±‰å­—â€;<br>æƒ³å¤„ç†emojiï¼Œé‚£è®°å½•çš„ä¸‹æ ‡å°±æ˜¯2ã€3ï¼Œæœ€åå’Œç™½åå•ä¸‹æ ‡æ¯”è¾ƒåç»Ÿä¸€åˆ é™¤</p>
<h4 id="å¦‚ä½•åŒºåˆ«charæ˜¯ä¸€å¯¹è¿˜æ˜¯å•ä¸ª"><a href="#å¦‚ä½•åŒºåˆ«charæ˜¯ä¸€å¯¹è¿˜æ˜¯å•ä¸ª" class="headerlink" title="å¦‚ä½•åŒºåˆ«charæ˜¯ä¸€å¯¹è¿˜æ˜¯å•ä¸ª"></a>å¦‚ä½•åŒºåˆ«charæ˜¯ä¸€å¯¹è¿˜æ˜¯å•ä¸ª</h4><p>å°±ä¹‹å‰çš„ä¾‹å­ab\uD83D\uDE03cdï¼Œæ¢ç§å†™æ³•\u0061\u0062\uD83D\uDE0\u0063\u0064<br>ç¨‹åºæ˜¯å¦‚ä½•å°†\uD83D\uDE03è§£ææˆä¸€ä¸ªå­—ç¬¦çš„å‘¢ã€‚è¿™å°±éœ€è¦Surrogateè¿™ä¸ªæ¦‚å¿µï¼Œæ¥è‡ªUTF-16ã€‚</p>
<p>UTF-16æ˜¯16bitæœ€å¤šç¼–ç 65536ï¼Œé‚£å¤§äº65536å¦‚ä½•ç¼–ç ï¼ŸUnicode æ ‡å‡†åˆ¶å®šç»„æƒ³å‡ºçš„åŠæ³•æ˜¯ï¼Œä»è¿™65536ä¸ªç¼–ç é‡Œï¼Œæ‹¿å‡º2048ä¸ªï¼Œè§„å®šä»–ä»¬æ˜¯ã€ŒSurrogatesã€ï¼Œè®©ä»–ä»¬ä¸¤ä¸ªä¸ºä¸€ç»„ï¼Œæ¥ä»£è¡¨ç¼–å·å¤§äº65536çš„é‚£äº›å­—ç¬¦ã€‚<br>ç¼–å·ä¸º U+D800 è‡³ U+DBFF çš„è§„å®šä¸ºã€ŒHigh Surrogatesã€ï¼Œå…±1024ä¸ªã€‚<br>ç¼–å·ä¸º U+DC00 è‡³ U+DFFF çš„è§„å®šä¸ºã€ŒLow Surrogatesã€ï¼Œä¹Ÿæ˜¯1024ä¸ªã€‚<br>ä»–ä»¬ç»„åˆå‡ºç°ï¼Œå°±åˆå¯ä»¥å¤šè¡¨ç¤º1048576ä¸­å­—ç¬¦ã€‚</p>
<p>çœ‹ä¸€ä¸‹String.codePointAtè¿™ä¸ªæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">codePointAtImpl</span><span class="params">(<span class="keyword">char</span>[] a, <span class="keyword">int</span> index, <span class="keyword">int</span> limit)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c1 = a[index];</span><br><span class="line">    <span class="keyword">if</span> (isHighSurrogate(c1) &amp;&amp; ++index &lt; limit) &#123;</span><br><span class="line">        <span class="keyword">char</span> c2 = a[index];</span><br><span class="line">        <span class="keyword">if</span> (isLowSurrogate(c2)) &#123;</span><br><span class="line">            <span class="keyword">return</span> toCodePoint(c1, c2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­æœ‰ä¸¤ä¸ªæ–¹æ³•isHighSurrogateã€isLowSurrogateã€‚<br>ç¬¬ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­æ˜¯å¦ä¸ºé«˜ä»£ç†é¡¹ä»£ç å•å…ƒï¼Œå³åœ¨â€™\uD800â€™ä¸â€™\uDBFFâ€™ä¹‹é—´ï¼Œ<br>ç¬¬äºŒä¸ªæ–¹æ³•åˆ¤æ–­æ˜¯å¦ä¸ºä½ä»£ç†é¡¹ä»£ç å•å…ƒï¼Œå³åœ¨â€™\uDC00â€™ä¸â€™\uDFFFâ€™ä¹‹é—´ã€‚</p>
<p>codePointAtImplæ–¹æ³•åˆ¤æ–­å½“å‰charæ˜¯é«˜ä»£ç†é¡¹ä»£ç å•å…ƒï¼Œä¸‹ä¸€ä¸ªæ˜¯ä½ä»£ç†é¡¹ä»£ç å•å…ƒï¼Œåˆ™è¿™ä¸¤ä¸ªcharæ˜¯ä¸€ä¸ªcodepointã€‚</p>
<p>å†æ¥çœ‹ä¸€ä¸‹unicodeè½¬UTF-16çš„æ–¹æ³•</p>
<blockquote>
<p>å¦‚æœU&lt;0x10000ï¼ŒUçš„UTF-16ç¼–ç å°±æ˜¯Uå¯¹åº”çš„16ä½æ— ç¬¦å·æ•´æ•°ï¼ˆä¸ºä¹¦å†™ç®€ä¾¿ï¼Œä¸‹æ–‡å°†16ä½æ— ç¬¦å·æ•´æ•°è®°ä½œWORDï¼‰ã€‚<br>å¦‚æœUâ‰¥0x10000ï¼Œæˆ‘ä»¬å…ˆè®¡ç®—Uâ€™=U-0x10000ï¼Œç„¶åå°†Uâ€™å†™æˆäºŒè¿›åˆ¶å½¢å¼ï¼šyyyy yyyy yyxx xxxx xxxxï¼ŒUçš„UTF-16ç¼–ç ï¼ˆäºŒè¿›åˆ¶ï¼‰å°±æ˜¯ï¼š110110yyyyyyyyyy 110111xxxxxxxxxxã€‚</p>
</blockquote>
<p>è¿˜æ˜¯ä»¥U+1F603è¿™ä¸ªğŸ˜ƒä¸ºä¾‹å­ï¼ŒUâ€™=U-0x10000=F603<br>å†™æˆ2è¿›åˆ¶å°±æ˜¯1111011000000011ï¼Œä¸è¶³20ä½å‰é¢è¡¥0ï¼Œ<br>å˜æˆ0000111101-1000000011ï¼Œæ›¿æ¢yå’Œxå°±æ˜¯1101100000111101ï¼Œ1101111000000011ï¼Œæœ€åUTF-16ç¼–ç å°±æ˜¯[d83dï¼Œde03] å’Œä¸Šé¢ä¸€æ ·ã€‚</p>

    </div>
    
    <div class="post-footer">
        <div>
            
            è½¬è½½å£°æ˜ï¼š
            å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ,éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ Â© <a href="http://blog.nianlun.tech/" target="_blank">å¹´è½®çš„è‡ªä¹ å®¤</a>
            
            
        </div>
        <div>
            
        </div>
    </div>
</article>
<div class="article-nav prev-next-wrap clearfix">
    
    <a href="/2018/10/28/AQSåŸç†è§£æï¼ˆä¸€ï¼‰/" class="pre-post btn btn-default" title='AQSåŸç†è§£æï¼ˆä¸€ï¼‰'>
        <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">ä¸Šä¸€ç¯‡</span>
        <span class="hidden-xs">
            AQSåŸç†è§£æï¼ˆä¸€ï¼‰</span>
    </a>
    
    
    <a href="/2017/07/07/ç•ªèŒ„å·¥ä½œæ³•/" class="next-post btn btn-default" title='ç•ªèŒ„å·¥ä½œæ³•'>
        <span class="hidden-lg">ä¸‹ä¸€ç¯‡</span>
        <span class="hidden-xs">
            ç•ªèŒ„å·¥ä½œæ³•</span><i class="fa fa-angle-right fa-fw"></i>
    </a>
    
</div>

<div id="comments">
    
<!--PCå’ŒWAPè‡ªé€‚åº”ç‰ˆ-->
<div id="SOHUCS"></div>
<script type="text/javascript">
(function() {
    var appid = 'cytUR27Rd';
    var conf = 'prod_a94706eef67d4620edff3aa3c98e4bf5';
    var width = window.innerWidth || document.documentElement.clientWidth;
    if (width < 960) { window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else {
        var loadJs = function(d, a) {
            var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
            var b = document.createElement("script");
            b.setAttribute("type", "text/javascript");
            b.setAttribute("charset", "UTF-8");
            b.setAttribute("src", d);
            if (typeof a === "function") { if (window.attachEvent) { b.onreadystatechange = function() { var e = b.readyState; if (e === "loaded" || e === "complete") { b.onreadystatechange = null;
                            a() } } } else { b.onload = a } }
            c.appendChild(b)
        };
        loadJs("https://changyan.sohu.com/upload/changyan.js", function() { window.changyan.api.config({ appid: appid, conf: conf }) });
    }
})();
</script>

</div>

                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">
            æ–‡ç« ç›®å½•
        </h3>
        
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#unicode"><span class="toc-text">unicode</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UTF-8"><span class="toc-text">UTF-8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#codepoint"><span class="toc-text">codepoint</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å¦‚ä½•åŒºåˆ«charæ˜¯ä¸€å¯¹è¿˜æ˜¯å•ä¸ª"><span class="toc-text">å¦‚ä½•åŒºåˆ«charæ˜¯ä¸€å¯¹è¿˜æ˜¯å•ä¸ª</span></a></li></ol></li></ol>
        
    </div>
</aside>
                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>
<a id="back-to-top" class="icon-btn hide">
    <i class="fa fa-chevron-up"></i>
</a>
    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
    è®¿é—®é‡:
    <strong id="busuanzi_value_site_pv">
        <i class="fa fa-spinner fa-spin"></i>
    </strong>
    &nbsp; | &nbsp;
    è®¿å®¢æ•°:
    <strong id="busuanzi_value_site_uv">
        <i class="fa fa-spinner fa-spin"></i>
    </strong>
    
</div>
            </div>
            <div class="col-sm-12">
                <span>Copyright &copy;
                    2017
                    
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/app.js?rev=@@hash"></script>
</body>
</html>